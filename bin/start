#!/usr/bin/env node

/*
    HTML5 Robot User Interface Server
    An ASLab Project,
    Developed by Daniel Peir√≥
    ETSII, UPM 2014-2015    
*/

/*  
    Domain module used to catch app errors elegantly and exit app
    No need to modify this code.
*/
var domain = require('domain').create();

domain.on('error', function(error) {

    console.log('HRUI error: ', error.message);
    if (error.message == 'listen EACCES') {
        console.log(' Error is probably due to app trying to start on PORT < 1024\n',
            'without required permissions. Either set a PORT > 1024 in app.js or see\n',
            "README 'Notes on using port 80' for ways to use PORT 80.\n",
            'SUDO should not be used for security reasons.');
    };
    console.log('Stack Trace: ', error.stack);
    process.exit(0);
});

domain.run(function() {
var debug = require('debug')('HRUI');
var app = require('../app');
});




